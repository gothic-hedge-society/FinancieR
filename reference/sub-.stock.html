<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Using [ on Objects of Class "stock" — [.stock • FinancieR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cyborg/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><script src="../extra.js"></script><meta property="og:title" content="Using [ on Objects of Class " stock><meta property="og:description" content="You can quickly retrieve price, dividend, and split data useing the [
operator on an object of class stock, much like subsetting a matrix or
list in base R."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FinancieR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/FinancieR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/gothic-hedge-society/FinancieR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Using <code>[</code> on Objects of Class "stock"</h1>
    <small class="dont-index">Source: <a href="https://github.com/gothic-hedge-society/FinancieR/blob/HEAD/R/extract_stock.R"><code>R/extract_stock.R</code></a></small>
    <div class="hidden name"><code>sub-.stock.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>You can quickly retrieve price, dividend, and split data useing the <code>[</code>
operator on an object of class <em>stock</em>, much like subsetting a matrix or
list in base R.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre><code># S3 method for stock
[(x, i, j = NULL, silent = FALSE)</code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>an object of class "<em>stock</em>".</p></dd>
<dt>i</dt>
<dd><p>an <code><a href="https://rdrr.io/pkg/xts/man/xts.html" class="external-link">xts</a></code> subsetting string following the same rules
as for an <code><a href="https://rdrr.io/pkg/xts/man/xts.html" class="external-link">xts</a></code> object: "<strong>2015</strong>" will return data
for all of 2015, "<strong>2018-04</strong>" will return data for March of 2018
only, "<strong>2016-09-19/2016-12-31</strong>" will return data from 19 Sep 2016 to
the end of the year, etc. If NULL, then the full time range of available
data for the selected stock will be returned.</p></dd>
<dt>j</dt>
<dd><p>Character vector specifying column names to be included in the output. Available column names are:</p>
<p>"DividendAmount", "RecordDate", "DeclaredDate", "Type", "PaymentFrequency", "Open", "High", "Low", "Close", "TWAP", "VWAP", "Volume", "PreviousCloseDate", "PreviousClose", "Denominator", "Numerator", "ExDate", "company", "acquired_by", "multiple", "type", "acquired"</p></dd>
<dt>silent</dt>
<dd><p>Boolean. If FALSE (Default), messages will be displayed for
special cases that might produce unexpected behavior; e.g., if no data
is available for the date range specified. If TRUE, these messages will
not be displayed.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>an xts object, or NULL if no data is available for the specified
asset within the specified date range.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The rules are:</p><ol><li><p>If a dividend took place during the specified date range, then the
column "<strong>DividendAmount</strong>" will always be included in the output.</p></li>
<li><p>If a split took place during the specified date range, then the
columns "<strong>Denominator</strong>" and "<strong>Numerator</strong>" will always be
included in the output. "<strong>Denominator</strong>" refers to the number of
shares AFTER the split and "<strong>Numerator</strong>" number of shares BEFORE
the split; for example, a 2-to-1 split would have "<strong>Denominator</strong>"
= 2 and "<strong>Numerator</strong>" = 1.</p></li>
</ol></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co"># If no columns are specified, all available columns are returned.</span></span>
<span class="r-in"><span class="co"># Single date:</span></span>
<span class="r-in"><span class="va">stock_data</span><span class="op">$</span><span class="va">IVV</span><span class="op">[</span><span class="st">"2019-06-11"</span><span class="op">]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Open   High    Low  Close     TWAP     VWAP  Volume</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-11  293 293.42 290.18 290.95 291.3605 291.3883 2923455</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            PreviousCloseDate PreviousClose</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-11             18057           291</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Dividends are correctly applied, even when issued on a non-trading day. In</span></span>
<span class="r-in"><span class="co"># 2012, for example, Texas Instruments (TXN) had scheduled a dividend for the</span></span>
<span class="r-in"><span class="co"># 29th of October but the exchange was closed due to Hurricane Sandy. The</span></span>
<span class="r-in"><span class="co"># dividend, then, should be applied to the next trading day (31 October). Here,</span></span>
<span class="r-in"><span class="co"># we'll select just the closing price for a date range around that time.</span></span>
<span class="r-in"><span class="co"># Remember, any dividends that occur within the date range are always included.</span></span>
<span class="r-in"><span class="va">stock_data</span><span class="op">$</span><span class="va">TXN</span><span class="op">[</span><span class="st">"2012-10-25/2012-11-05"</span>, <span class="st">"Close"</span><span class="op">]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Close DividendAmount</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012-10-25 28.13           0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012-10-26 28.92           0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012-10-31 28.09           0.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012-11-01 29.21           0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012-11-02 28.53           0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012-11-05 29.47           0.00</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Splits are handled as follows for Apple's 7-to-1 split of 2014:</span></span>
<span class="r-in"><span class="va">stock_data</span><span class="op">$</span><span class="va">AAPL</span><span class="op">[</span><span class="st">"2014-06-05/2014-06-11"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Open"</span>, <span class="st">"Close"</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Open  Close Numerator Denominator</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2014-06-05 646.20 647.35         1           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2014-06-06 649.90 645.57         1           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2014-06-09  92.70  93.70         1           7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2014-06-10  94.73  94.25         1           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2014-06-11  94.13  93.86         1           1</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Not specifying which columns you want can quickly lead to a lot of data, as in</span></span>
<span class="r-in"><span class="co"># the below subset of IVV for the month of June 2019:</span></span>
<span class="r-in"><span class="va">stock_data</span><span class="op">$</span><span class="va">IVV</span><span class="op">[</span><span class="st">"2019-06"</span><span class="op">]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Open     High       Low        Close    TWAP       VWAP      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-03 "277.15" "278.39"   "274.9"    "276.38" "276.4588" "276.4957"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-04 "278.96" "282.5759" "278.47"   "282.44" "280.6717" "280.8257"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-05 "284.25" "284.9"    "282.211"  "284.86" "283.8816" "283.852" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-06 "285.21" "287.495"  "284.49"   "286.76" "285.8646" "285.8638"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-07 "287.9"  "290.83"   "287.7"    "289.67" "289.7764" "289.7672"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-10 "291.36" "292.81"   "290.87"   "291"    "291.679"  "291.6477"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-11 "293"    "293.42"   "290.18"   "290.95" "291.3605" "291.3883"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-12 "290.66" "291.25"   "289.83"   "290.29" "290.368"  "290.3781"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-13 "291.4"  "291.97"   "290.6279" "291.62" "291.2763" "291.2941"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-14 "291.31" "291.93"   "290.4001" "291.25" "290.9889" "290.988" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-17 "289.75" "290.45"   "289.41"   "289.74" "289.9867" "289.9679"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-18 "291.63" "293.8"    "291.25"   "292.45" "292.7379" "292.7035"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-19 "292.79" "293.89"   "291.78"   "293.24" "292.8821" "292.9638"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-20 "296.32" "296.57"   "293.8788" "296.02" "295.6598" "295.6786"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-21 "295.79" "297.2"    "295.47"   "295.57" "296.1241" "296.0067"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-24 "295.9"  "296.27"   "295.15"   "295.27" "295.6836" "295.6679"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-25 "295.35" "295.41"   "292.3"    "292.41" "293.677"  "293.6548"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-26 "293.42" "293.99"   "292.02"   "292.08" "292.8215" "292.789" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-27 "292.99" "293.73"   "292.61"   "293.28" "293.3466" "293.3313"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-28 "294.28" "295.21"   "293.71"   "294.75" "294.2672" "294.3027"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Volume    PreviousCloseDate PreviousClose DividendAmount</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-03 "5589736" "18047"           "277.3"       "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-04 "3598917" "18050"           "276.38"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-05 "4674039" "18051"           "282.44"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-06 "4294539" "18052"           "284.86"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-07 "3180251" "18053"           "286.76"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-10 "3862913" "18054"           "289.67"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-11 "2923455" "18057"           "291"         "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-12 "2310269" "18058"           "290.95"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-13 "2304977" "18059"           "290.29"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-14 "2000184" "18060"           "291.62"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-17 "2511178" "18061"           "291.25"      "1.777745"    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-18 "4622740" "18064"           "289.74"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-19 "7606221" "18065"           "292.45"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-20 "4408953" "18066"           "293.24"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-21 "3628064" "18067"           "296.02"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-24 "3549268" "18068"           "295.57"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-25 "2975598" "18071"           "295.27"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-26 "4210219" "18072"           "292.41"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-27 "2722438" "18073"           "292.08"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-28 "5751367" "18074"           "293.28"      "0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            RecordDate   DeclaredDate Type               PaymentFrequency</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-03 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-04 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-05 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-06 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-07 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-10 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-11 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-12 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-13 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-14 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-17 "2019-06-18" "2019-06-14" "OrdinaryDividend" "Quarterly"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-18 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-19 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-20 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-21 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-24 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-25 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-26 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-27 ""           ""           ""                 ""              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019-06-28 ""           ""           ""                 ""              </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">###### M&amp;A Events: Mergers, Acquisitions, Spinoffs, Breakups, etc.</span></span>
<span class="r-in"><span class="co"># Consider the M&amp;A event that took place on 31 Oct 2018 in which Praxair (PX)</span></span>
<span class="r-in"><span class="co"># merged with Linde AG (not included in dataset) to form Linde PLC, a new</span></span>
<span class="r-in"><span class="co"># company traded under the symbol LIN.</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jake Vestal.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

